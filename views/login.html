<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Human Resources nagment System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="script.js"></script>


     <style>
            body {
      background-image: url('321.png'); 
      background-size: cover; 
      background-position: center;
      background-repeat: no-repeat; 
      background-attachment: fixed; 
      margin: 0; 
      height: 100vh; 
    }

     </style>
</head>
<body style="background-color: black;">
    <div class="container" style="display:flex; border: 2px solid white ; width:550px; height: 300px;  margin-left: 450px; margin-top: 200px; border-radius: 2px; ">
        <form action="dashboard.html" method="post" id="loginForm">
            <h1  style="margin-left: 10px; font-family: 'Times New Roman', Times, serif; color:aliceblue;">
                Login Form!
            </h1>
            
             <t style="margin-left: 10px;color: aliceblue; ">
                User Name:
            </t>
            <br/>
            <text id="T-2" style="color: red;" ></text>
            <input type="text" id="F-4" name="contact" style="background-color: rgb(255, 255, 255); width:300px; height: 25px; margin-left: 10px;border-radius: 2px;" >
            <br>
            <t style="margin-left: 10px; color: aliceblue;">
                Password:
            </t>
            
            <br/>
            <h1 id="T-1" style="color: red;"></h1>
            <input type="password" id="F-3" name="password" style="background-color: rgb(255, 255, 255); width:300px; height: 25px; margin-left: 10px;border-radius: 2px;" >
            <br/>
            <span id="passwordError" style="color: red;">

            </span>
            <br/>
            <button type="submit" onclick="return (notEmpty3(document.getElementById('F-4')) && isAlphanumeric(document.getElementById('F-3'))) ;" 
            style="width:110px; height:40px; background-color:black; border-radius:3px; color:aliceblue; margin-top:15px; margin-left:380px; border-color:aliceblue;">
      LOGIN!
    </button>
    <script>
        $(document).ready(function () {
          // Password validation with trim
          $('#F-3').on('input', function () {
            const password = $(this).val().trim();
            const minLength = 8;
            const regex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;
      
            if (password.length < minLength) {
              $('#passwordError').text(`Password must be at least ${minLength} characters`);
            } else if (!regex.test(password)) {
              $('#passwordError').text("Password must contain at least one letter and one number");
            } else {
              $('#passwordError').text("");
            }
          });
      
          // Login validation from localStorage
          $('#loginForm').on('submit', function (e) {
            e.preventDefault();
      
            const username = $('#F-4').val().trim();
            const password = $('#F-3').val().trim();
            const usersList = JSON.parse(localStorage.getItem('usersList')) || [];
      
            const matchedUser = usersList.find(user => user.username === username && user.password === password);
      
            if (matchedUser) {
              alert('Login successful!');
              window.location.href = 'dashboard.html';
            } else {
              alert('Invalid username or password!');
            }
          });

        });
        function isAlphanumeric(input) {
  const regex = /^[a-z0-9]+$/i;
  if (!regex.test(input.value)) {
    alert('Password must be alphanumeric');
    return false;
  }
  return true;
}

      </script>
      
      
        </form>
        </div>
    
</body>
</html>